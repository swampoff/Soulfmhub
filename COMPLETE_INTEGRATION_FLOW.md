# ğŸµ SOUL FM - COMPLETE INTEGRATION FLOW

**From Upload to On Air** - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… ÑĞ¸ÑÑ‚ĞµĞ¼

---

## ğŸ“Š **ĞŸĞĞ›ĞĞĞ¯ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ - ĞšĞĞš Ğ’Ğ¡Ğ Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ Ğ’ĞœĞ•Ğ¡Ğ¢Ğ•**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SOUL FM RADIO STATION                     â”‚
â”‚                     Fully Automated                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ UPLOAD TRACK â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Extract      â”‚â”€â”€â”
         â”‚ Metadata     â”‚  â”‚ Auto-extract:
         â”‚ (Auto)       â”‚  â”‚ - Title, Artist
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ - Genre, BPM
                â”‚          â”‚ - Duration
                â”‚          â”‚ - Cover Art
                â–¼          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Save to      â”‚
         â”‚ KV Store     â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Add to       â”‚â”€â”€â”€â”€ Playlist Selection
         â”‚ PLAYLIST     â”‚     (soul, jazz, rnb, etc.)
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘     AUTO-DJ ENGINE     â•‘
    â•‘   (Main Controller)    â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Scheduling System     â”‚
    â”‚ (Time-based playlists)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       CONTENT INJECTION CHECK         â”‚
    â”‚     (Every track transition)          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
                â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  1. NEWS CHECK   â”‚    â”‚ 2. ANNOUNCEMENT  â”‚
    â”‚  (Highest âš¡)    â”‚    â”‚    CHECK         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â”‚ Scheduled?            â”‚ Every 3-5
         â”‚ Yes â†’ PLAY            â”‚ tracks?
         â”‚ No â†’ Skip             â”‚ Yes â†’ PLAY
         â”‚                       â”‚ No â†’ Skip
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3. JINGLE CHECK  â”‚
    â”‚    (Rules-based) â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Rule matched?
         â”‚ Yes â†’ PLAY
         â”‚ No â†’ Skip
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4. MUSIC TRACK   â”‚
    â”‚  (From playlist) â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ğŸ”Š ON AIR!     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **PRIORITY SYSTEM**

ĞšĞ¾Ğ³Ğ´Ğ° Ñ‚Ñ€ĞµĞº Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ, Auto-DJ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ² Ñ‚Ğ°ĞºĞ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ:

### **Priority 1: ğŸ“° NEWS (HIGHEST)**
```
IF news is scheduled within next 5 minutes:
  â†’ STOP everything
  â†’ PLAY news voice-over
  â†’ Mark as played
  â†’ Reset track counter
  â†’ Continue with music
```

**Example:**
```
14:58 - Track "Ain't No Sunshine" ends
14:59 - News scheduled at 15:00 (within 5 min window)
15:00 - ğŸ“° "Breaking: Miami Music Festival Announced"
15:02 - Resume regular programming
```

---

### **Priority 2: ğŸ“» ANNOUNCEMENTS (HIGH)**
```
IF 3-5 tracks played since last announcement:
  â†’ Check announcement type (rotate):
     - 40% chance: Station ID
     - 30% chance: Weather
     - 20% chance: Time
     - 10% chance: Any type
  â†’ PLAY announcement
  â†’ Mark as played
  â†’ Reset track counter
  â†’ Continue with music
```

**Types:**
- ğŸŒ¤ï¸ **Weather**: "It's 75 degrees and sunny in Miami..."
- â° **Time**: "It's 3 PM on Soul FM..."
- ğŸ“» **Station ID**: "This is Soul FM, your home for soul music..."
- ğŸš— **Traffic**: "Traffic update for Miami area..."
- ğŸª **Promo**: "Coming this weekend at Soul FM..."

---

### **Priority 3: ğŸ”” JINGLES (MEDIUM)**
```
IF jingle rule matches:
  - Every N tracks
  - Time-based (hourly, etc.)
  - Category rotation
  â†’ PLAY jingle
  â†’ Mark as played
  â†’ Continue with music
```

---

### **Priority 4: ğŸµ MUSIC TRACKS (DEFAULT)**
```
IF no news/announcements/jingles:
  â†’ Get scheduled playlist for current time
  â†’ Play next track from playlist
  â†’ Increment track counter
  â†’ Repeat
```

---

## ğŸ“‹ **TRACK UPLOAD TO AIR WORKFLOW**

### **Step-by-Step Process:**

#### **1. Upload Track** (Admin Panel)
```
Admin Panel â†’ Tracks Management â†’ Upload Track

Input:
- Audio file (MP3, FLAC, WAV)
- Select playlist (optional)
- Auto-add to Live Stream? (checkbox)

Auto-extraction:
âœ… Title, Artist, Album
âœ… Genre, Year, BPM
âœ… Duration
âœ… Cover art (embedded or online search)
âœ… Waveform generation
```

#### **2. Storage & Database**
```
Audio File â†’ Supabase Storage (make-06086aa3-tracks)
Metadata â†’ KV Store (track:id)
Short Link â†’ Generated (soulfm.stream/xyz123)
Cover Art â†’ Supabase Storage (make-06086aa3-covers)
```

#### **3. Add to Playlist**
```
IF "Auto-add to Live Stream" checked:
  â†’ Add to 'livestream' playlist
  â†’ Position: Start or End

OR manually:
  â†’ Playlists Management â†’ Edit Playlist
  â†’ Add track to playlist
  â†’ Drag to reorder
```

#### **4. Schedule Playlist**
```
Schedule Management â†’ Create Schedule

Set:
- Day of week
- Start time
- End time
- Select playlist
- Priority

Example:
Mon-Fri, 06:00-10:00 â†’ "Morning Soul" playlist
Mon-Fri, 10:00-16:00 â†’ "Daytime Grooves" playlist
```

#### **5. Auto-DJ Plays**
```
When current time matches schedule:
  â†’ Auto-DJ loads playlist
  â†’ Plays tracks in order (or shuffle)
  â†’ Checks for injections between tracks
  â†’ Updates "Now Playing"
  â†’ Broadcasts to Icecast
```

---

## ğŸ¬ **REAL-TIME EXAMPLE**

### **Typical Hour on Soul FM:**

```
15:00 - ğŸ“° News: "Miami Beach Music Festival"
        Duration: 2 minutes
        Voice: Professional News Anchor

15:02 - ğŸµ "Lovely Day" by Bill Withers
        Duration: 4:15
        Playlist: Afternoon Soul

15:06 - ğŸµ "Ain't No Sunshine" by Bill Withers  
        Duration: 2:03
        Playlist: Afternoon Soul

15:08 - ğŸµ "Just The Two Of Us" by Grover Washington Jr.
        Duration: 7:21
        Playlist: Afternoon Soul

15:15 - ğŸ”” Station Jingle: "Soul FM" (Rule: Every 3 tracks)
        Duration: 0:10

15:15 - ğŸµ "Let's Stay Together" by Al Green
        Duration: 3:18
        Playlist: Afternoon Soul

15:18 - ğŸµ "For The Love Of You" by Isley Brothers
        Duration: 5:36
        Playlist: Afternoon Soul

15:24 - ğŸµ "Always There" by Incognito
        Duration: 5:17
        Playlist: Afternoon Soul

15:29 - ğŸ“» Weather Announcement (Every ~5 tracks)
        "It's 75 degrees and sunny in Miami..."
        Duration: 0:30

15:30 - ğŸµ "Rock With You" by Michael Jackson
        Duration: 3:40
        Playlist: Afternoon Soul

... and so on
```

---

## ğŸ”„ **NEWS INJECTION WORKFLOW**

### **Complete News Lifecycle:**

```
1. CREATE NEWS
   â†“
   Admin â†’ News Management â†’ Create Article
   - Title, Content, Category
   - Mark as published

2. GENERATE VOICE-OVER
   â†“
   Admin â†’ News Injection â†’ Generate Voice-Over
   - Select news article
   - Select voice (Professional Anchor, etc.)
   - Click "Generate"
   â†’ ElevenLabs TTS creates audio
   â†’ Saves to Supabase Storage
   â†’ Creates voice-over record

3. CREATE INJECTION RULE
   â†“
   Admin â†’ News Injection â†’ Create Rule
   - Name: "Hourly News Updates"
   - Frequency: Hourly (or custom times)
   - Days: Mon-Fri
   - Max news per slot: 1
   - Priority: Latest first
   - Active: âœ…

4. RUN SCHEDULER
   â†“
   Admin â†’ Click "Run Scheduler"
   â†’ Reads active rules
   â†’ Calculates next 24h schedule
   â†’ Selects news for each slot
   â†’ Populates queue
   
   Queue Example:
   - 16:00 â†’ "Miami Music Festival"
   - 17:00 â†’ "Local Artist Grammy Win"
   - 18:00 â†’ "New Streaming Technology"
   - 19:00 â†’ "Community Fundraiser"

5. AUTO-DJ PLAYS
   â†“
   When 15:55-16:05 (5-min window):
   â†’ Auto-DJ checks queue
   â†’ Finds news scheduled for 16:00
   â†’ Plays news voice-over
   â†’ Marks as "playing" â†’ "completed"
   â†’ Increments play count
   â†’ Resumes music

6. STATS & MONITORING
   â†“
   Admin â†’ News Injection â†’ Stats
   - Total voice-overs: 15
   - Active rules: 3
   - Pending queue: 24
   - Most played: "Miami Music Festival" (12 plays)
```

---

## ğŸŒ¤ï¸ **ANNOUNCEMENTS WORKFLOW**

### **Weather Announcement:**

```
1. FETCH WEATHER DATA
   â†“
   OpenWeatherMap API â†’ Current conditions
   - Temperature: 75Â°F
   - Condition: Partly Cloudy
   - Humidity: 65%
   - Wind: 10 mph

2. GENERATE SCRIPT
   â†“
   Script template + weather data:
   "Here's your weather update. It's currently 75 degrees 
    and partly cloudy in Miami. Humidity is at 65 percent, 
    with winds around 10 miles per hour."

3. TTS GENERATION
   â†“
   ElevenLabs TTS â†’ Audio file
   Save to storage â†’ Get signed URL

4. SAVE TO DATABASE
   â†“
   content_announcements_06086aa3
   - type: 'weather'
   - content: (script)
   - audio_url: (signed URL)
   - voice_id: Professional Voice
   - duration: 15 seconds
   - is_active: true
   - schedule_pattern: '0 * * * *' (every hour)

5. AUTO-DJ ROTATION
   â†“
   After 3-5 tracks:
   â†’ Randomly select announcement type
   â†’ 30% chance = weather
   â†’ Play weather announcement
   â†’ Mark as played
   â†’ Continue music
```

---

## ğŸ“Š **STATISTICS & MONITORING**

### **Track Statistics:**
```sql
SELECT 
  title,
  artist,
  play_count,
  last_played
FROM tracks
ORDER BY play_count DESC
LIMIT 10;
```

### **News Statistics:**
```sql
SELECT 
  news_title,
  play_count,
  last_played,
  voice_name
FROM news_voice_overs_06086aa3
WHERE is_active = true
ORDER BY play_count DESC;
```

### **Announcement Statistics:**
```sql
SELECT 
  type,
  COUNT(*) as total,
  SUM(play_count) as total_plays
FROM content_announcements_06086aa3
GROUP BY type;
```

---

## ğŸ”§ **CONFIGURATION**

### **For Professional Radio Station:**

```yaml
Playlists:
  - Morning Show (6-10 AM): Upbeat soul & funk
  - Daytime (10 AM-4 PM): Smooth jazz & R&B
  - Drive Time (4-7 PM): Classic soul hits
  - Evening (7 PM-12 AM): Mellow jazz
  - Overnight (12-6 AM): Instrumental jazz

News Injection:
  - Hourly news (Mon-Fri, 7 AM-7 PM)
  - News every 2 hours (weekends)
  - Breaking news (as needed)

Announcements:
  - Station ID: Every 30 minutes
  - Weather: Every hour at :30
  - Time: Every hour on the hour
  - Traffic: Mon-Fri during drive time

Jingles:
  - Station ID jingle: Every 3 tracks
  - Show transitions: At schedule changes
  - Special events: As configured
```

---

## ğŸ‰ **FINAL RESULT**

### **What You Get:**

âœ… **Professional Radio Station**
- Fully automated 24/7
- Smart content injection
- Natural transitions
- Professional sound

âœ… **Easy Management**
- Upload tracks â†’ Auto-metadata
- Create playlists â†’ Drag & drop
- Schedule programming â†’ Time-based
- Inject news â†’ TTS + scheduling
- Add announcements â†’ Auto-generated

âœ… **Real-time Monitoring**
- Now Playing
- Queue preview
- Play statistics
- Listener metrics

âœ… **Enterprise Features**
- News injection
- Weather announcements
- Time announcements
- Station IDs
- Traffic reports
- Jingle rotation
- Smart scheduling

---

## ğŸš€ **YOU NOW HAVE:**

```
Track Upload System âœ…
Playlist Management âœ…
Schedule System âœ…
Auto-DJ Engine âœ…
Jingle Rotation âœ…
News Injection âœ…
Content Announcements âœ…
TTS Integration âœ…
Smart Scheduling âœ…
Queue Management âœ…
Statistics Dashboard âœ…
Admin Panel âœ…
```

**THIS IS A COMPLETE, PROFESSIONAL RADIO AUTOMATION SYSTEM! ğŸ”¥**

---

**Ready to test? Let's go! ğŸ§ª**
